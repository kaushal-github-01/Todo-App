(()=>{"use strict";document.querySelector("nav button").addEventListener("click",(()=>{const e=document.getElementById("formDiv");e.children[0].reset(),e.style.display="flex";const t=e.querySelector("input[type='text']"),l=e.querySelector("textarea"),r=e.querySelector("input[type='date']"),o=e.querySelector("input[type='time']"),n=e.querySelector("select");t.disabled=!1,l.disabled=!1,r.disabled=!1,o.disabled=!1,n.disabled=!1,e.querySelector("button[type='submit']").style.display="inline-block"})),(()=>{const e=document.querySelector("main"),t=formDiv.querySelector("button[type='submit']"),l=formDiv.querySelector("button[type='update']"),r=formDiv.querySelector("button[type='cancel']");t.addEventListener("click",(t=>{t.preventDefault();let l={name:formDiv.querySelector("input[type='text']").value,description:formDiv.querySelector("textarea").value,date:formDiv.querySelector("input[type='date']").value,time:formDiv.querySelector("input[type='time']").value,category:formDiv.querySelector("select").value},r=e.querySelectorAll("h2")||[],n=!0;if(0!=r.length&&r.forEach((e=>{e.textContent==l.name&&(n=!1)})),1==n){o.push(l);let e=JSON.stringify(o);localStorage.setItem("tasks",e),formDiv.style.display="none",window.location.reload()}else alert("Task already present")}));let o=JSON.parse(localStorage.getItem("tasks"))||[];o.forEach((t=>{e.innerHTML+=`\n    <div id="task">\n      <div>\n        <input type='checkbox'>\n        <h2>${t.name}</h2>\n      </div>\n      <div>\n        <button type='view'>View</button>\n        <button type='edit'>Edit</button>\n        <button type='delete'>Delete</button>\n      </div>\n    </div>\n    `})),(e=>{const t=document.getElementById("formDiv"),l=document.querySelector("main");l.querySelectorAll("input").forEach(((t,l)=>{const r=t.nextElementSibling,o=e[l].name;"Yes"===localStorage.getItem(o)?(r.style.textDecoration="line-through",t.checked=!0):(r.style.textDecoration="none",t.checked=!1),t.addEventListener("click",(()=>{"line-through"==r.style.textDecoration?(r.style.textDecoration="none",localStorage.setItem(o,"No")):(r.style.textDecoration="line-through",localStorage.setItem(o,"Yes"))}))})),l.querySelectorAll("button[type='view']").forEach(((l,r)=>{l.addEventListener("click",(()=>{t.children[0].reset(),t.style.display="flex";const l=t.querySelector("input[type='text']"),o=t.querySelector("textarea"),n=t.querySelector("input[type='date']"),i=t.querySelector("input[type='time']"),a=t.querySelector("select");l.value=e[r].name,o.value=e[r].description,n.value=e[r].date,i.value=e[r].time,a.value=e[r].category,l.disabled=!0,o.disabled=!0,n.disabled=!0,i.disabled=!0,a.disabled=!0,t.querySelector("button[type='submit']").style.display="none"}))})),l.querySelectorAll("button[type='edit']").forEach(((l,r)=>{l.addEventListener("click",(()=>{t.children[0].reset(),t.style.display="flex";const l=t.querySelector("input[type='text']"),o=t.querySelector("textarea"),n=t.querySelector("input[type='date']"),i=t.querySelector("input[type='time']"),a=t.querySelector("select");l.value=e[r].name,o.value=e[r].description,n.value=e[r].date,i.value=e[r].time,a.value=e[r].category,l.disabled=!1,o.disabled=!1,n.disabled=!1,i.disabled=!1,a.disabled=!1,t.querySelector("button[type='submit']").style.display="none",t.querySelector("button[type='update']").style.display="inline-block"}))})),l.querySelectorAll("button[type='delete']").forEach(((t,l)=>{t.addEventListener("click",(()=>{e.splice(l,1);let t=JSON.stringify(e);localStorage.setItem("tasks",t),window.location.reload()}))}))})(o),l.addEventListener("click",(e=>{e.preventDefault();let t=formDiv.querySelector("input[type='text']").value;console.log(o.findIndex((e=>e.name==t)))})),r.addEventListener("click",(e=>{e.preventDefault(),formDiv.style.display="none"}))})()})();